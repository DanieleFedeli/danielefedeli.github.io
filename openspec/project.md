# Project Context

## Purpose
Personal technical blog built with Zola. The site is used to publish articles, notes, and experiments about software development and related topics, and to serve as a long-lived knowledge base.

## Tech Stack
- Zola static site generator (configured via `config.toml`)
- Content written in Markdown under `content/`
- Zola templates (Tera syntax) under `templates/`
- Sass stylesheets under `sass/`, compiled into CSS by Zola
- Static assets (images, JS, etc.) under `static/` and `public/`
- Client-side search powered by ElasticLunr:
  - `public/elasticlunr.min.js`
  - `public/search_index.en.js` (generated by Zola when `build_search_index = true`)
- Deployed to GitHub Pages

## Project Conventions

### Code Style
- Use Markdown front matter for all content pages, including at minimum: `title`, `date`, and optionally `taxonomies`, `description`, and `draft`.
- Keep filenames and slugs in lowercase with words separated by hyphens (e.g. `my-first-post.md`).
- Prefer semantic HTML in templates (headings, sections, articles, nav, etc.).
- Sass:
  - Organize styles into logical partials where needed.
  - Prefer BEM-ish class names or other clear naming, avoid overly generic selectors.
- No inline styles in templates unless there is a very small, one-off need.
- Avoid complex JavaScript on content pages; keep JS minimal and focused (e.g. search, small interactions).
- Typography hierarchy:
  - Follow modular scale (1.25x ratio): h1 1.75rem, h2 1.5rem, h3 1.25rem, h4 1.1rem, h5 1rem, h6 0.95rem
  - Use consistent spacing: related elements (0.5-0.75rem), distinct sections (1-1.5rem)
  - All headings must be bold (600 weight) with line-height 1.2-1.3
  - Body text line-height 1.5+ for comfortable reading
  - Ensure WCAG AAA contrast ratios for all text

### Architecture Patterns
- Zola section-based content:
  - Site-wide landing/index pages under `content/_index.md` and section indexes under `content/<section>/_index.md`.
  - Blog posts live under `content/blog/`.
- Layout responsibility:
  - Base layout and shared chrome (header, footer, main layout) are defined in `templates/` (e.g. `base.html`, `index.html`).
  - Per-section and per-page templates handle content-specific structure.
- Styling:
  - Shared/base styles are defined in Sass and compiled into the main stylesheet by Zola.
  - Keep styles modular and organized by component or section when appropriate.
- Search:
  - A prebuilt search index (`public/search_index.en.js`) is generated by Zola and consumed by client-side JS using ElasticLunr.

### Testing Strategy
- Manual verification for content changes:
  - Run `zola serve` locally to preview new or edited posts.
  - Check for layout issues, broken links, and obvious accessibility problems on key pages (home, blog index, post pages).
- Structural/behavioral verification:
  - Verify that navigation menus, pagination (if used), and taxonomies (tags/categories) behave as expected after structural changes.
  - For search, confirm that new posts appear in the search index and search UI loads without console errors.
- Automated checks (if/when added):
  - Use a link checker or simple CI step to catch broken internal links.
  - Optionally use HTML validation / linting tools to maintain HTML quality.
- No separate unit-test framework is assumed; behavior is validated via Zola build, local preview, and any CI that runs `zola build` or `zola check`.

### Git Workflow
- Default branch `main` is always deployable and matches the currently published site.
- Feature/content branches (optional but recommended) use kebab-case names, e.g.:
  - `content/add-zola-openspec-post`
  - `feature/update-blog-layout`
  - `fix/search-index-loading`
- **Commit frequently at every baby step:**
  - Make a commit after each small, incremental change (e.g. after editing one file, adding one template, fixing one style rule).
  - This creates a fine-grained history that makes it easy to understand and revert individual changes.
- **Commit message format:**
  - **Imperative title** on the first line (e.g. `add blog post about openspec`, `fix navigation spacing`).
  - **Blank line** separating title from body.
  - **Description (optional)** on subsequent lines if context or reasoning is needed.
  - Example:
    ```
    add dark mode toggle to site header

    Users requested a way to switch between light and dark themes.
    This adds a toggle button that persists preference in localStorage.
    ```
- Use pull requests for non-trivial template/layout changes; content-only updates can be committed directly if that fits the workflow.

## Domain Context
- This is a personal blog; stability and readability of posts is more important than rapid feature churn.
- URLs should be stable over time:
  - Avoid changing slugs of published posts.
  - If a URL must change, consider redirects at the Zola / hosting level.
- Tags and/or categories may be used for navigation; avoid near-duplicate tag names and keep taxonomy tidy.
- RSS/Atom feeds (if enabled via Zola config) are important for subscribers; ensure new posts appear correctly.
- SEO:
  - Each post should have a good `title` and, ideally, a `description` in front matter.
  - Templates should render sensible `<title>` and meta tags using this metadata.

## Important Constraints
- Static site only: there is no server-side application logic at runtime.
- Keep JavaScript weight low:
  - Avoid heavy client-side frameworks; use plain JS for small behaviors.
  - Search and other enhancements should work without breaking the core content if JS is disabled.
- Accessibility:
  - Use proper heading hierarchy, landmark regions, and alt text for images.
  - Avoid interactions that are not keyboard accessible.
- Performance:
  - Optimize images (size and format) and avoid unneeded large static assets.
  - Keep CSS and JS bundles modest for faster page loads.

## External Dependencies
- Zola CLI for building and serving the site.
- ElasticLunr.js for client-side search (`public/elasticlunr.min.js` and generated search index).
- GitHub Pages for hosting and deployment.
- Optional:
  - Analytics or monitoring scripts (if added) should be privacy-respecting and minimal.
  - External fonts or CDNs, used sparingly to avoid performance and privacy issues.
